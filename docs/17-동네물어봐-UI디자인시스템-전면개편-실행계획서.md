# "동네물어봐" UI 디자인 시스템 전면 개편 실행계획서

## 📋 **문서 개요**

**문서명**: 동네물어봐 UI 디자인 시스템 전면 개편 실행계획서  
**버전**: 1.0.0  
**작성일**: 2025-01-23  
**작성자**: 10년차 시니어 개발자 팀장  
**목적**: 관광 커뮤니티 서비스에 최적화된 모던 UI 디자인 시스템으로 전면 개편  

---

## 🎯 **전체 개요**

### **프로젝트 목표**
- **현재**: 자체 제작 컴포넌트 + Radix UI 혼재 시스템
- **목표**: shadcn/ui + Pretendard Variable + Neutral Gray 팔레트 통합 시스템
- **기간**: 4개 Phase, 총 3-4일
- **방법론**: 점진적 마이그레이션 + 체계적 에러 체크

### **핵심 변경사항**
1. **UI 라이브러리**: shadcn/ui로 통합
2. **폰트 시스템**: Pretendard Variable 적용
3. **컬러 팔레트**: Neutral Gray + Accent (블루/오렌지)
4. **컴포넌트 구조**: Card 기반 피드 레이아웃 중심
5. **다크 모드**: 완전 지원
6. **접근성**: WCAG 2.1 AA 준수

---

## 🚀 **Phase 1: 기반 시스템 구축 (1일차)**

### **Phase 1.1: shadcn/ui 초기 설정 및 기본 컴포넌트 설치**

#### **작업 목표**
- shadcn/ui 라이브러리 통합
- 기본 컴포넌트 설치 및 설정
- 기존 UI 패키지와의 충돌 방지

#### **세부 작업**
- [x] **1.1.1** shadcn/ui 초기 설정 실행
  ```bash
  cd apps/web
  npm dlx shadcn-ui@latest init
  ```
- [x] **1.1.2** 기본 컴포넌트 설치
  ```bash
  npm dlx shadcn-ui@latest add button card input avatar badge table dialog toast
  ```
- [x] **1.1.3** shadcn/ui 설정 파일 검증 (`components.json`)
- [x] **1.1.4** 기존 UI 패키지와의 충돌 방지 설정
- [x] **1.1.5** TypeScript 경로 별칭 설정 확인

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 컴포넌트 import 오류, 스타일 충돌

---

### **Phase 1.2: Pretendard Variable 폰트 시스템 통합**

#### **작업 목표**
- 한글/영문 가독성 최적화
- 긴 텍스트 환경에 최적화된 폰트 적용
- 폰트 로딩 성능 최적화

#### **세부 작업**
- [x] **1.2.1** Pretendard Variable 폰트 패키지 설치
  ```bash
  npm install @fontsource/pretendard
  ```
- [x] **1.2.2** layout.tsx에 폰트 import 추가
- [x] **1.2.3** tailwind.config.js에 폰트 설정 추가
- [x] **1.2.4** 기존 Inter 폰트 제거
- [x] **1.2.5** 폰트 로딩 최적화 설정

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 폰트 로딩 실패, FOUT(Flash of Unstyled Text)

---

### **Phase 1.3: Neutral Gray + Accent 컬러 팔레트 적용**

#### **작업 목표**
- 관광 커뮤니티에 최적화된 컬러 팔레트 적용
- 다크 모드 완전 지원
- 시각적 일관성 확보

#### **세부 작업**
- [x] **1.3.1** 새로운 컬러 팔레트 정의
  - **Base**: Neutral Gray Palette (#f9fafb ~ #1f2937)
  - **Primary Accent**: 청량한 블루 (#3b82f6) 또는 따뜻한 오렌지 (#f97316)
- [x] **1.3.2** CSS Variables 업데이트
- [x] **1.3.3** Tailwind 컬러 토큰 재정의
- [x] **1.3.4** 다크 모드 컬러 매핑 설정
- [x] **1.3.5** 기존 제주도 테마 컬러에서 새 팔레트로 전환

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 컬러 대비율, 다크 모드 가시성

---

### **Phase 1.4: 핵심 컴포넌트 (Button, Card, Input) 마이그레이션**

#### **작업 목표**
- shadcn/ui 컴포넌트로 핵심 UI 요소 교체
- 기존 API 호환성 유지
- 점진적 마이그레이션 구현

#### **세부 작업**
- [x] **1.4.1** Button 컴포넌트 shadcn/ui로 교체
- [x] **1.4.2** Card 컴포넌트 shadcn/ui로 교체
- [x] **1.4.3** Input 컴포넌트 shadcn/ui로 교체
- [x] **1.4.4** 기존 컴포넌트 API 호환성 유지
- [x] **1.4.5** Wrapper 컴포넌트로 점진적 마이그레이션

#### **예상 소요시간**: 3시간
#### **에러 체크 포인트**: TypeScript 타입 오류, 스타일 불일치

---

### **Phase 1.5: Phase 1 완료 후 에러 체크 및 검증**

#### **검증 목표**
- Phase 1 작업 완료 확인
- 에러 및 문제점 조기 발견
- 다음 Phase 진행 준비

#### **세부 작업**
- [x] **1.5.1** TypeScript 컴파일 에러 체크
- [x] **1.5.2** ESLint 에러 체크
- [x] **1.5.3** 빌드 성공 확인
- [x] **1.5.4** 개발 서버 정상 동작 확인
- [x] **1.5.5** 핵심 페이지 렌더링 테스트

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 빌드 실패, 런타임 에러, 스타일 깨짐

---

## 🎨 **Phase 2: 컴포넌트 라이브러리 재구조화 (2일차)**

### **Phase 2.1: Card 기반 피드 레이아웃 구현**

#### **작업 목표**
- 관광 커뮤니티에 최적화된 피드 레이아웃 구현
- Card 기반 컴포넌트 구조 재설계
- 사용자 경험 최적화

#### **세부 작업**
- [x] **2.1.1** 새로운 피드 컴포넌트 구조 설계
  ```
  src/components/
  ├── ui/                    # shadcn/ui 기반 기본 컴포넌트
  ├── feed/                  # Card 기반 피드 컴포넌트
  │   ├── QuestionCard.tsx
  │   ├── AnswerCard.tsx
  │   ├── UserCard.tsx
  │   └── LocationCard.tsx
  ├── layout/                # 레이아웃 컴포넌트
  └── shared/                # 공통 컴포넌트
  ```
- [x] **2.1.2** QuestionCard 컴포넌트 구현
- [x] **2.1.3** AnswerCard 컴포넌트 구현
- [x] **2.1.4** UserCard 컴포넌트 구현
- [x] **2.1.5** LocationCard 컴포넌트 구현
- [x] **2.1.6** 기존 컴포넌트에서 새 피드 레이아웃으로 전환

#### **예상 소요시간**: 4시간
#### **에러 체크 포인트**: 컴포넌트 렌더링 오류, 레이아웃 깨짐

---

### **Phase 2.2: 다크 모드 시스템 완전 구현**

#### **작업 목표**
- 야간 여행 환경에서의 사용성 확보
- 시스템 다크 모드 감지 및 적용
- 사용자 선호도 지속성 구현

#### **세부 작업**
- [x] **2.2.1** 다크 모드 토글 컴포넌트 구현
- [x] **2.2.2** 시스템 다크 모드 감지 구현
- [x] **2.2.3** 모든 컴포넌트 다크 모드 지원
- [x] **2.2.4** 다크 모드 컬러 대비율 검증
- [x] **2.2.5** 다크 모드 상태 지속성 구현

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 다크 모드 전환 오류, 컬러 대비율 부족

---

### **Phase 2.3: 모바일 우선 반응형 디자인 적용**

#### **작업 목표**
- 관광지 현장에서의 모바일 사용 최적화
- 일관된 디자인 시스템 적용
- 터치 인터페이스 최적화

#### **세부 작업**
- [x] **2.3.1** 8pt 그리드 시스템 구현
- [x] **2.3.2** rounded-2xl 스타일 적용
- [x] **2.3.3** shadow-sm/md 그림자 시스템 적용
- [x] **2.3.4** 모바일 터치 타겟 최적화 (44px 이상)
- [x] **2.3.5** 반응형 브레이크포인트 최적화

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 모바일 레이아웃 깨짐, 터치 타겟 크기 부족

---

### **Phase 2.5: Phase 2 완료 후 에러 체크 및 검증**

#### **검증 목표**
- 반응형 디자인 완성도 확인
- 다크 모드 시스템 안정성 검증
- 모바일 사용성 최종 확인

#### **세부 작업**
- [x] **2.5.1** 모든 페이지 반응형 테스트
- [x] **2.5.2** 다크 모드 전환 테스트
- [x] **2.5.3** 모바일 디바이스 테스트
- [x] **2.5.4** 성능 지표 측정
- [x] **2.5.5** 접근성 기본 검증

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 반응형 깨짐, 성능 저하, 접근성 문제

---

## ⚡ **Phase 3: 고급 기능 및 최적화 (3일차)**

### **Phase 3.1: TanStack Table + shadcn 스타일링 통합**

#### **작업 목표**
- 대규모 데이터 처리를 위한 테이블 시스템 구축
- 관리자 페이지 및 통계 대시보드 최적화
- 정렬/필터/페이지네이션 기능 구현

#### **세부 작업**
- [x] **3.1.1** TanStack Table 설치 및 설정
  ```bash
  npm install @tanstack/react-table
  ```
- [x] **3.1.2** shadcn/ui 테이블 컴포넌트와 통합
- [x] **3.1.3** 관리자 페이지 테이블 구현
- [x] **3.1.4** 사용자 랭킹 테이블 구현
- [x] **3.1.5** 정렬/필터/페이지네이션 기능 구현

#### **예상 소요시간**: 3시간
#### **에러 체크 포인트**: 테이블 렌더링 오류, 성능 이슈

---

### **Phase 3.2: 접근성 개선 및 WCAG 2.1 AA 준수**

#### **작업 목표**
- 모든 사용자가 접근 가능한 UI 구현
- 키보드 네비게이션 완전 지원
- 스크린 리더 호환성 확보

#### **세부 작업**
- [x] **3.2.1** 키보드 네비게이션 구현
- [x] **3.2.2** 스크린 리더 지원 개선
- [x] **3.2.3** 컬러 대비율 검증 및 수정
- [x] **3.2.4** ARIA 라벨 및 역할 추가
- [x] **3.2.5** 접근성 테스트 도구 실행

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 접근성 검사 실패, 키보드 네비게이션 오류

---

### **Phase 3.3: 성능 최적화 및 번들 크기 최적화**

#### **작업 목표**
- 로딩 속도 최적화
- 번들 크기 최적화
- 사용자 경험 향상

#### **세부 작업**
- [x] **3.3.1** 번들 크기 분석 및 최적화
- [x] **3.3.2** Tree-shaking 최적화
- [x] **3.3.3** 동적 import 적용
- [x] **3.3.4** 이미지 최적화
- [x] **3.3.5** 성능 지표 측정 및 개선

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 번들 크기 증가, 로딩 속도 저하

---

### **Phase 3.4: 테스트 코드 업데이트 및 E2E 테스트 수정**

#### **작업 목표**
- 새로운 UI 시스템에 맞는 테스트 코드 업데이트
- E2E 테스트 케이스 수정
- 테스트 커버리지 유지

#### **세부 작업**
- [x] **3.4.1** 기존 테스트 코드 업데이트
- [x] **3.4.2** E2E 테스트 케이스 수정
- [x] **3.4.3** 새로운 컴포넌트 테스트 작성
- [x] **3.4.4** 접근성 테스트 추가
- [x] **3.4.5** 전체 테스트 스위트 실행

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 테스트 실패, E2E 테스트 오류

---

### **Phase 3.5: Phase 3 완료 후 최종 에러 체크 및 검증**

#### **검증 목표**
- 고급 기능 완성도 확인
- 성능 최적화 효과 검증
- 전체 시스템 안정성 확인

#### **세부 작업**
- [x] **3.5.1** 전체 시스템 통합 테스트
- [x] **3.5.2** 성능 벤치마크 측정
- [x] **3.5.3** 접근성 검사 완료
- [x] **3.5.4** 모든 브라우저 호환성 테스트
- [x] **3.5.5** 모바일 디바이스 테스트

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 통합 테스트 실패, 성능 기준 미달

---

## 🎉 **Phase 4: 최종 검증 및 완료 (4일차)**

### **Phase 4.1: 전체 시스템 통합 테스트 및 검증**

#### **작업 목표**
- 전체 시스템 통합성 확인
- 사용자 시나리오 테스트
- 프로덕션 준비 완료

#### **세부 작업**
- [ ] **4.1.1** 모든 페이지 기능 테스트
- [ ] **4.1.2** 사용자 시나리오 테스트
- [ ] **4.1.3** 성능 최종 측정
- [ ] **4.1.4** 보안 검사
- [ ] **4.1.5** 프로덕션 빌드 테스트

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 통합 테스트 실패, 프로덕션 빌드 오류

---

### **Phase 4.2: 새로운 UI 시스템 문서화 및 가이드 작성**

#### **작업 목표**
- 개발자 가이드 완성
- 컴포넌트 사용법 문서화
- 마이그레이션 가이드 제공

#### **세부 작업**
- [ ] **4.2.1** 컴포넌트 사용 가이드 작성
- [ ] **4.2.2** 디자인 토큰 문서화
- [ ] **4.2.3** 마이그레이션 가이드 작성
- [ ] **4.2.4** 개발자 가이드 업데이트
- [ ] **4.2.5** Storybook 설정 및 문서화

#### **예상 소요시간**: 2시간
#### **에러 체크 포인트**: 문서 누락, 가이드 오류

---

### **Phase 4.3: 최종 검증 및 프로덕션 준비 완료**

#### **작업 목표**
- 최종 품질 검증
- 프로덕션 배포 준비
- 모니터링 설정

#### **세부 작업**
- [ ] **4.3.1** 최종 코드 리뷰
- [ ] **4.3.2** 모든 체크리스트 완료 확인
- [ ] **4.3.3** 프로덕션 배포 준비
- [ ] **4.3.4** 롤백 계획 수립
- [ ] **4.3.5** 모니터링 설정

#### **예상 소요시간**: 1시간
#### **에러 체크 포인트**: 최종 검증 실패, 배포 준비 미완료

---

## 🚨 **에러 체크 체계**

### **Phase별 필수 에러 체크 항목**

#### **Phase 1 에러 체크**
- [ ] TypeScript 컴파일 에러 0개
- [ ] ESLint 에러 0개
- [ ] 빌드 성공 확인
- [ ] 개발 서버 정상 동작
- [ ] 핵심 컴포넌트 렌더링 확인

#### **Phase 2 에러 체크**
- [ ] 모든 페이지 반응형 테스트 통과
- [ ] 다크 모드 전환 정상 동작
- [ ] 모바일 디바이스 테스트 통과
- [ ] 성능 지표 기준 달성
- [ ] 접근성 기본 검증 통과

#### **Phase 3 에러 체크**
- [ ] 테이블 컴포넌트 정상 동작
- [ ] 접근성 검사 통과
- [ ] 성능 최적화 완료
- [ ] 모든 테스트 통과
- [ ] 번들 크기 기준 달성

#### **Phase 4 에러 체크**
- [ ] 전체 시스템 통합 테스트 통과
- [ ] 프로덕션 빌드 성공
- [ ] 문서화 완료
- [ ] 최종 검증 통과
- [ ] 배포 준비 완료

---

## 📊 **성공 지표**

### **기술적 지표**
- [ ] **번들 크기**: 현재 대비 20% 이내 증가
- [ ] **로딩 속도**: First Contentful Paint 2초 이내
- [ ] **타입 안정성**: TypeScript 에러 0개
- [ ] **접근성**: WCAG 2.1 AA 준수

### **사용자 경험 지표**
- [ ] **모바일 사용성**: 터치 타겟 44px 이상
- [ ] **가독성**: 본문 15-16px, 라인 간격 1.5em
- [ ] **시각적 일관성**: 모든 컴포넌트 통일된 디자인 언어
- [ ] **다크 모드**: 완전한 야간 사용 지원

---

## 🔧 **예상 문제점 및 해결 방안**

### **1. 기존 컴포넌트 호환성 문제**
- **문제**: 현재 25개+ 컴포넌트의 API 변경
- **해결**: 점진적 마이그레이션 + 하위 호환성 유지
- **방법**: Wrapper 컴포넌트로 기존 API 유지

### **2. 스타일 충돌 위험**
- **문제**: 기존 Tailwind 클래스와 shadcn/ui 충돌
- **해결**: CSS Variables 우선순위 조정
- **방법**: `!important` 사용 최소화, CSS-in-JS 활용

### **3. 번들 크기 증가**
- **문제**: shadcn/ui + TanStack Table 추가로 인한 크기 증가
- **해결**: Tree-shaking 최적화 + 동적 import
- **방법**: 필요한 컴포넌트만 선택적 import

### **4. 타입 안정성 문제**
- **문제**: 기존 TypeScript 타입과 새 컴포넌트 타입 불일치
- **해결**: 점진적 타입 마이그레이션
- **방법**: `any` 타입 임시 사용 후 점진적 개선

---

## 📝 **참고 자료**

### **기술 문서**
- [shadcn/ui 공식 문서](https://ui.shadcn.com)
- [Pretendard Variable 폰트](https://github.com/orioncactus/pretendard)
- [TanStack Table 문서](https://tanstack.com/table)
- [WCAG 2.1 가이드라인](https://www.w3.org/WAI/WCAG21/quickref/)

### **명령어 실행 환경**
- **패키지 매니저**: npm (프로젝트 일관성 유지)
- **작업 디렉토리**: `apps/web` (웹 애플리케이션 루트)
- **시간 기준**: 한국시간 (KST) 기준

### **프로젝트 문서**
- `docs/11-동네물어봐-UI가이드라인-프로토타입-명세서.md`
- `docs/04-동네물어봐-컴포넌트-구조-설계서.md`
- `packages/ui/lib/tokens.ts`

---

## 🎯 **구현 시작 준비 완료**

**이 문서는 UI 디자인 시스템 전면 개편의 체계적인 실행계획을 제공합니다.**

### **사용 방법**
1. 각 Phase별 작업을 순차적으로 진행
2. 각 작업 완료 후 체크박스 체크
3. Phase 완료 후 에러 체크 항목 검증
4. 다음 Phase 진행 전 현재 Phase 완료 확인

### **문서 업데이트**
- 각 Phase 완료 시 진행 상황 업데이트
- 에러 발생 시 해결 방법 기록
- 성공 지표 달성 여부 확인

**모든 준비가 완료되어 안전하고 체계적인 UI 시스템 전면 개편이 가능합니다!** 🎉
