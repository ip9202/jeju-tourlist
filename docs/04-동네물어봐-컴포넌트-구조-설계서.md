# "ë™ë„¤ë¬¼ì–´ë´" ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì„¤ê³„ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ê°œìš”](#-ì»´í¬ë„ŒíŠ¸-ì•„í‚¤í…ì²˜-ê°œìš”)
2. [ì—¬í–‰ ì „ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸](#-ì—¬í–‰-ì „-ë‹¨ê³„-ì»´í¬ë„ŒíŠ¸)
3. [ì—¬í–‰ ì¤‘ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸](#-ì—¬í–‰-ì¤‘-ë‹¨ê³„-ì»´í¬ë„ŒíŠ¸)
4. [ì—¬í–‰ í›„ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸](#-ì—¬í–‰-í›„-ë‹¨ê³„-ì»´í¬ë„ŒíŠ¸)
5. [ê³µí†µ ì»´í¬ë„ŒíŠ¸](#-ê³µí†µ-ì»´í¬ë„ŒíŠ¸)
6. [ìƒíƒœ ê´€ë¦¬ ì„¤ê³„](#-ìƒíƒœ-ê´€ë¦¬-ì„¤ê³„)
7. [ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ì‚¬ì´í´](#-ì»´í¬ë„ŒíŠ¸-ë¼ì´í”„ì‚¬ì´í´)

---

## ğŸ—ï¸ ì»´í¬ë„ŒíŠ¸ ì•„í‚¤í…ì²˜ ê°œìš”

### ì„¤ê³„ ì›ì¹™
1. **ë‹¨ê³„ë³„ íŠ¹í™”**: ì—¬í–‰ ì „-ì¤‘-í›„ ê° ë‹¨ê³„ì— ìµœì í™”ëœ ì»´í¬ë„ŒíŠ¸
2. **ì¬ì‚¬ìš©ì„±**: ê³µí†µ ê¸°ëŠ¥ì€ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ì¶”ìƒí™”
3. **ë°˜ì‘í˜•**: ì›¹/ëª¨ë°”ì¼ ëª¨ë“  í”Œë«í¼ì—ì„œ ì¼ê´€ëœ ê²½í—˜
4. **ì„±ëŠ¥ ìµœì í™”**: ì§€ì—° ë¡œë”© ë° ë©”ëª¨ì´ì œì´ì…˜ ì ìš©
5. **ì ‘ê·¼ì„±**: WCAG 2.1 AA ê¸°ì¤€ ì¤€ìˆ˜

### í´ë” êµ¬ì¡°

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ pre-trip/          # ì—¬í–‰ ì „ íŠ¹í™” ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ during-trip/       # ì—¬í–‰ ì¤‘ íŠ¹í™” ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ post-trip/         # ì—¬í–‰ í›„ íŠ¹í™” ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ shared/            # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ ui/                # ê¸°ë³¸ UI ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ layout/            # ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ hooks/                 # ì»¤ìŠ¤í…€ í›…
â”œâ”€â”€ context/               # ì»¨í…ìŠ¤íŠ¸ (ìƒíƒœ ê´€ë¦¬)
â”œâ”€â”€ utils/                 # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ types/                 # TypeScript íƒ€ì… ì •ì˜
```

---

## ğŸ›£ï¸ ì—¬í–‰ ì „ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ (Pre-Trip)

### í•µì‹¬ ëª©í‘œ
- ìƒì„¸í•œ ê³„íš ìˆ˜ë¦½ ì§€ì›
- í’ë¶€í•œ ì •ë³´ ì œê³µ
- ë©€í‹°íƒœìŠ¤í‚¹ ì§€ì›
- ë¶ë§ˆí¬ ë° ì €ì¥ ê¸°ëŠ¥

### 1. PreTripLanding ì»´í¬ë„ŒíŠ¸

```typescript
// components/pre-trip/PreTripLanding.tsx
interface PreTripLandingProps {
  user?: User;
  onQuestionCreate: (question: Question) => void;
}

const PreTripLanding: React.FC<PreTripLandingProps> = ({
  user,
  onQuestionCreate
}) => {
  return (
    <div className="pre-trip-landing">
      <HeroSection />
      <QuickSearchBar onSearch={handleSearch} />
      <PopularQuestions />
      <RegionalStats />
      <TrustIndicators />
    </div>
  );
};

// í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ë“¤
const HeroSection = () => (
  <section className="hero">
    <h1>ì œì£¼ í˜„ì§€ì¸ì´ ë‹µí•˜ëŠ” ì—¬í–‰ Q&A</h1>
    <p>ê¶ê¸ˆí•˜ë©´ ë™ë„¤ ì‚¬ëŒì—ê²Œ ë¬¼ì–´ë´!</p>
    <SearchPrompt />
  </section>
);

const SearchPrompt = () => (
  <div className="search-prompt">
    <input
      placeholder="3ë°•4ì¼ ê°€ì¡±ì—¬í–‰, ì•„ì´ì™€ í•¨ê»˜ ê°€ê¸° ì¢‹ì€ ê³³ ì¶”ì²œ..."
      className="hero-search"
    />
    <button>ì§ˆë¬¸í•˜ê¸°</button>
  </div>
);
```

### 2. PlanningQuestionComposer ì»´í¬ë„ŒíŠ¸

```typescript
// components/pre-trip/PlanningQuestionComposer.tsx
interface QuestionComposerProps {
  onSubmit: (question: QuestionData) => void;
  onSaveDraft: (draft: QuestionDraft) => void;
}

const PlanningQuestionComposer: React.FC<QuestionComposerProps> = ({
  onSubmit,
  onSaveDraft
}) => {
  const [step, setStep] = useState(1);
  const [questionData, setQuestionData] = useState<QuestionData>({
    travelInfo: null,
    content: '',
    tags: [],
    preferences: {}
  });

  return (
    <div className="planning-composer">
      <ProgressIndicator currentStep={step} totalSteps={3} />

      {step === 1 && (
        <TravelInfoStep
          data={questionData.travelInfo}
          onChange={updateTravelInfo}
          onNext={() => setStep(2)}
        />
      )}

      {step === 2 && (
        <ContentStep
          content={questionData.content}
          tags={questionData.tags}
          onChange={updateContent}
          onNext={() => setStep(3)}
          onPrev={() => setStep(1)}
        />
      )}

      {step === 3 && (
        <PreferencesStep
          preferences={questionData.preferences}
          onChange={updatePreferences}
          onSubmit={handleSubmit}
          onPrev={() => setStep(2)}
        />
      )}
    </div>
  );
};

// ê° ë‹¨ê³„ë³„ ì»´í¬ë„ŒíŠ¸
const TravelInfoStep: React.FC<TravelInfoStepProps> = ({
  data, onChange, onNext
}) => (
  <div className="travel-info-step">
    <h2>ì—¬í–‰ ê¸°ë³¸ ì •ë³´</h2>
    <DateRangePicker
      value={data?.dates}
      onChange={(dates) => onChange({ ...data, dates })}
    />
    <CompanionSelector
      value={data?.companions}
      onChange={(companions) => onChange({ ...data, companions })}
    />
    <BudgetSelector
      value={data?.budget}
      onChange={(budget) => onChange({ ...data, budget })}
    />
    <RegionSelector
      value={data?.regions}
      onChange={(regions) => onChange({ ...data, regions })}
    />
    <button onClick={onNext}>ë‹¤ìŒ ë‹¨ê³„</button>
  </div>
);
```

### 3. DetailedQuestionFeed ì»´í¬ë„ŒíŠ¸

```typescript
// components/pre-trip/DetailedQuestionFeed.tsx
const DetailedQuestionFeed: React.FC = () => {
  return (
    <div className="detailed-feed">
      <FilterSidebar />
      <QuestionGrid />
      <BookmarkPanel />
    </div>
  );
};

const FilterSidebar = () => (
  <aside className="filter-sidebar">
    <SearchFilters />
    <CategoryFilter />
    <RegionFilter />
    <TimeFilter />
    <AnswerStatusFilter />
  </aside>
);

const QuestionGrid = () => {
  const { questions, loading } = useQuestions();

  return (
    <main className="question-grid">
      {questions.map(question => (
        <QuestionCard
          key={question.id}
          question={question}
          variant="detailed"
        />
      ))}
    </main>
  );
};
```

---

## ğŸ“± ì—¬í–‰ ì¤‘ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ (During-Trip)

### í•µì‹¬ ëª©í‘œ
- ì¦‰ì‹œì„± ì¤‘ì‹¬ ë””ìì¸
- ìœ„ì¹˜ ê¸°ë°˜ ê¸°ëŠ¥
- ê°„í¸í•œ ì…ë ¥ ë°©ì‹
- ê¸´ê¸‰ ìƒí™© ëŒ€ì‘

### 1. MobileUrgentHome ì»´í¬ë„ŒíŠ¸

```typescript
// components/during-trip/MobileUrgentHome.tsx
const MobileUrgentHome: React.FC = () => {
  const { currentLocation } = useLocation();
  const { nearbyQuestions } = useNearbyQuestions(currentLocation);

  return (
    <div className="mobile-urgent-home">
      <LocationHeader location={currentLocation} />
      <UrgentActionPanel />
      <QuickQuestionButtons />
      <VoiceQuestionFAB />
      <NearbyQuestionsFeed questions={nearbyQuestions} />
    </div>
  );
};

const UrgentActionPanel = () => (
  <section className="urgent-panel">
    <h2>ğŸš¨ ì§€ê¸ˆ ë‹¹ì¥ ë„ì›€ì´ í•„ìš”í•´ìš”!</h2>
    <ActionGrid>
      <ActionButton
        icon="ğŸœ"
        label="ë§›ì§‘"
        urgency="high"
        action={() => openQuickQuestion('restaurant')}
      />
      <ActionButton
        icon="â˜”"
        label="ë¹„í”¼í• ê³³"
        urgency="high"
        action={() => openQuickQuestion('shelter')}
      />
      <ActionButton
        icon="ğŸš—"
        label="êµí†µë¬¸ì œ"
        urgency="high"
        action={() => openQuickQuestion('transport')}
      />
      <ActionButton
        icon="ğŸ¥"
        label="ì‘ê¸‰ìƒí™©"
        urgency="critical"
        action={() => openQuickQuestion('emergency')}
      />
    </ActionGrid>
  </section>
);
```

### 2. VoiceQuestionComposer ì»´í¬ë„ŒíŠ¸

```typescript
// components/during-trip/VoiceQuestionComposer.tsx
const VoiceQuestionComposer: React.FC = () => {
  const [isRecording, setIsRecording] = useState(false);
  const [transcript, setTranscript] = useState('');
  const [autoTags, setAutoTags] = useState<string[]>([]);

  const { startRecording, stopRecording } = useSpeechRecognition({
    onResult: handleSpeechResult,
    onError: handleSpeechError
  });

  const handleSpeechResult = (result: string) => {
    setTranscript(result);
    // ìë™ íƒœê·¸ ë° ìœ„ì¹˜ ì¶”ì¶œ
    const tags = extractTagsFromSpeech(result);
    const location = detectLocationFromSpeech(result);
    setAutoTags(tags);
  };

  return (
    <div className="voice-composer">
      <RecordingIndicator isActive={isRecording} />

      <VoiceRecordButton
        isRecording={isRecording}
        onStart={() => {
          setIsRecording(true);
          startRecording();
        }}
        onStop={() => {
          setIsRecording(false);
          stopRecording();
        }}
      />

      {transcript && (
        <TranscriptEditor
          text={transcript}
          autoTags={autoTags}
          onEdit={setTranscript}
          onTagsChange={setAutoTags}
        />
      )}

      <QuickSubmitPanel
        content={transcript}
        tags={autoTags}
        urgency="high"
        onSubmit={handleQuickSubmit}
      />
    </div>
  );
};

const RecordingIndicator = ({ isActive }: { isActive: boolean }) => (
  <div className={`recording-indicator ${isActive ? 'active' : ''}`}>
    {isActive && (
      <>
        <div className="pulse-animation" />
        <span>ğŸ™ï¸ ìŒì„± ì¸ì‹ ì¤‘...</span>
        <div className="wave-animation" />
      </>
    )}
  </div>
);
```

### 3. LocationBasedFeed ì»´í¬ë„ŒíŠ¸

```typescript
// components/during-trip/LocationBasedFeed.tsx
const LocationBasedFeed: React.FC = () => {
  const { location } = useLocation();
  const [radius, setRadius] = useState(1000); // 1km
  const { questions } = useNearbyQuestions(location, radius);

  return (
    <div className="location-feed">
      <LocationControls
        location={location}
        radius={radius}
        onRadiusChange={setRadius}
      />

      <RealTimeQuestionList>
        {questions.map(question => (
          <MobileQuestionCard
            key={question.id}
            question={question}
            distance={calculateDistance(location, question.location)}
            variant="urgent"
          />
        ))}
      </RealTimeQuestionList>
    </div>
  );
};

const MobileQuestionCard = ({ question, distance, variant }: Props) => (
  <div className={`mobile-question-card ${variant}`}>
    <QuestionHeader question={question} distance={distance} />
    <QuestionContent content={question.content} />
    <UrgencyIndicator urgency={question.urgency} />
    <QuickActionButtons questionId={question.id} />
  </div>
);
```

---

## ğŸ–ï¸ ì—¬í–‰ í›„ ë‹¨ê³„ ì»´í¬ë„ŒíŠ¸ (Post-Trip)

### í•µì‹¬ ëª©í‘œ
- ê²½í—˜ ê³µìœ  ì´‰ì§„
- ë‹µë³€ì ì „í™˜ ìœ ë„
- ì»¤ë®¤ë‹ˆí‹° ê¸°ì—¬ë„ ìƒìŠ¹
- ì¬ë°©ë¬¸ ìœ ë„

### 1. PostTripDashboard ì»´í¬ë„ŒíŠ¸

```typescript
// components/post-trip/PostTripDashboard.tsx
const PostTripDashboard: React.FC = () => {
  const { travelStats } = useUserTravelStats();
  const { pendingReviews } = usePendingReviews();
  const { suggestedQuestions } = useSuggestedQuestions();

  return (
    <div className="post-trip-dashboard">
      <TravelCompletionBanner stats={travelStats} />
      <ReviewRequestSection reviews={pendingReviews} />
      <AnswererTransitionSection suggestions={suggestedQuestions} />
      <CommunityContributionSection />
    </div>
  );
};

const TravelCompletionBanner = ({ stats }: { stats: TravelStats }) => (
  <section className="completion-banner">
    <h2>ğŸ‰ ì œì£¼ë„ ì—¬í–‰ ë‹¤ë…€ì˜¤ì…¨ë„¤ìš”!</h2>
    <TravelStatsGrid stats={stats} />
    <SatisfactionRating onRate={handleSatisfactionRate} />
  </section>
);

const TravelStatsGrid = ({ stats }: { stats: TravelStats }) => (
  <div className="stats-grid">
    <StatCard
      icon="ğŸ’¬"
      label="ë°›ì€ ë‹µë³€"
      value={stats.receivedAnswers}
      color="blue"
    />
    <StatCard
      icon="âœ…"
      label="ì±„íƒí•œ ë‹µë³€"
      value={stats.acceptedAnswers}
      color="green"
    />
    <StatCard
      icon="ğŸ‘¥"
      label="ë„ì›€ë°›ì€ ë‹µë³€ì"
      value={stats.helpfulAnswerers}
      color="purple"
    />
    <StatCard
      icon="â­"
      label="ì—¬í–‰ ë§Œì¡±ë„"
      value={`${stats.satisfaction}/5`}
      color="orange"
    />
  </div>
);
```

### 2. AnswerReviewComposer ì»´í¬ë„ŒíŠ¸

```typescript
// components/post-trip/AnswerReviewComposer.tsx
const AnswerReviewComposer: React.FC<ReviewComposerProps> = ({
  answer,
  onSubmit
}) => {
  const [rating, setRating] = useState(0);
  const [review, setReview] = useState('');
  const [photos, setPhotos] = useState<File[]>([]);

  return (
    <div className="review-composer">
      <AnswerReference answer={answer} />

      <RatingSection
        rating={rating}
        onRatingChange={setRating}
      />

      <ReviewTextArea
        value={review}
        onChange={setReview}
        placeholder="ì‹¤ì œë¡œ ì–´ë– ì…¨ë‚˜ìš”? ë‹¤ë¥¸ ì—¬í–‰ìë“¤ì—ê²Œ ë„ì›€ì´ ë˜ëŠ” í›„ê¸°ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”!"
      />

      <PhotoUploadSection
        photos={photos}
        onPhotosChange={setPhotos}
        prompt="ë°©ë¬¸ ì¸ì¦ìƒ·ì„ ì˜¬ë ¤ì£¼ì„¸ìš”!"
      />

      <ThankYouMessageTemplates
        answerer={answer.user}
        onTemplateSelect={handleTemplateSelect}
      />

      <SubmitButton
        disabled={!rating || !review}
        onClick={() => onSubmit({ rating, review, photos })}
      >
        ğŸ’ í›„ê¸° ë‚¨ê¸°ê¸°
      </SubmitButton>
    </div>
  );
};

const ThankYouMessageTemplates = ({ answerer, onTemplateSelect }: Props) => {
  const templates = [
    "ì •ë§ ë„ì›€ëì–´ìš”! ê°ì‚¬í•©ë‹ˆë‹¤ ğŸ™",
    "ë•ë¶„ì— ì¢‹ì€ ì‹œê°„ ë³´ëƒˆì–´ìš”! ê³ ë§™ìŠµë‹ˆë‹¤ ğŸ˜Š",
    "ìµœê³ ì˜ ë‹µë³€ì´ì—ˆì–´ìš”! ë‹¤ìŒì—ë„ ë¶€íƒë“œë ¤ìš” âœ¨",
    "í˜„ì§€ì¸ë§Œ ì•„ëŠ” ì •ë³´ ê³µìœ í•´ì£¼ì…”ì„œ ê°ì‚¬í•´ìš”! ğŸ‘"
  ];

  return (
    <div className="thank-you-templates">
      <h4>{answerer.nickname}ë‹˜ì—ê²Œ ê°ì‚¬ ì¸ì‚¬</h4>
      <div className="template-buttons">
        {templates.map((template, index) => (
          <button
            key={index}
            className="template-btn"
            onClick={() => onTemplateSelect(template)}
          >
            {template}
          </button>
        ))}
      </div>
    </div>
  );
};
```

### 3. AnswererTransition ì»´í¬ë„ŒíŠ¸

```typescript
// components/post-trip/AnswererTransition.tsx
const AnswererTransition: React.FC = () => {
  const { suggestedQuestions } = useSuggestedQuestionsForUser();
  const { rewards } = useAnswererRewards();

  return (
    <div className="answerer-transition">
      <TransitionPrompt />
      <RewardsPreview rewards={rewards} />
      <SuggestedQuestionsList questions={suggestedQuestions} />
      <FirstAnswerIncentive />
    </div>
  );
};

const TransitionPrompt = () => (
  <section className="transition-prompt">
    <h3>ğŸ¤ ì´ì œ ë‹¹ì‹ ë„ ë‹µë³€ìê°€ ë˜ì–´ë³´ì„¸ìš”!</h3>
    <p>ìµœê·¼ ì œì£¼ë„ë¥¼ ë‹¤ë…€ì˜¨ ìƒìƒí•œ ê²½í—˜ì„ ë‹¤ë¥¸ ì—¬í–‰ìë“¤ê³¼ ê³µìœ í•´ë³´ì„¸ìš”.</p>
  </section>
);

const SuggestedQuestionsList = ({ questions }: { questions: Question[] }) => (
  <div className="suggested-questions">
    <h4>ğŸ¯ ë‹¹ì‹ ì´ ë‹µë³€í•  ìˆ˜ ìˆëŠ” ì§ˆë¬¸ë“¤</h4>
    {questions.map(question => (
      <SuggestedQuestionCard
        key={question.id}
        question={question}
        onAnswerStart={handleAnswerStart}
      />
    ))}
  </div>
);

const SuggestedQuestionCard = ({ question, onAnswerStart }: Props) => (
  <div className="suggested-question-card">
    <QuestionPreview question={question} />
    <MatchReasonBadge reason={question.matchReason} />
    <ActionButtons>
      <button
        className="answer-btn primary"
        onClick={() => onAnswerStart(question.id)}
      >
        âœï¸ ë‹µë³€ ì‘ì„±í•˜ê¸°
      </button>
      <button className="save-btn secondary">
        ğŸ“Œ ë‚˜ì¤‘ì— ë‹µë³€í•˜ê¸°
      </button>
    </ActionButtons>
  </div>
);
```

---

## ğŸ”„ ê³µí†µ ì»´í¬ë„ŒíŠ¸ (Shared)

### 1. MessageBubble ì»´í¬ë„ŒíŠ¸

```typescript
// components/shared/MessageBubble.tsx
interface MessageBubbleProps {
  type: 'question' | 'answer';
  user: User;
  content: string;
  timestamp: Date;
  images?: string[];
  tags?: string[];
  status?: MessageStatus;
  onAction?: (action: string) => void;
}

const MessageBubble: React.FC<MessageBubbleProps> = ({
  type,
  user,
  content,
  timestamp,
  images,
  tags,
  status,
  onAction
}) => {
  return (
    <div className={`message-bubble ${type}`}>
      <UserProfile user={user} />

      <MessageContent>
        <TextContent content={content} />
        {tags && <HashtagList tags={tags} />}
        {images && <ImageGallery images={images} />}
      </MessageContent>

      <MessageMeta>
        <Timestamp timestamp={timestamp} />
        <MessageStatus status={status} />
      </MessageMeta>

      <ActionButtons type={type} onAction={onAction} />
    </div>
  );
};

const ActionButtons = ({ type, onAction }: Props) => {
  if (type === 'question') {
    return (
      <div className="question-actions">
        <button onClick={() => onAction?.('reply')}>ğŸ’¬ ë‹µë³€</button>
        <button onClick={() => onAction?.('bookmark')}>ğŸ“Œ ì €ì¥</button>
        <button onClick={() => onAction?.('share')}>ğŸ“¤ ê³µìœ </button>
      </div>
    );
  }

  return (
    <div className="answer-actions">
      <LikeButton onLike={() => onAction?.('like')} />
      <AcceptButton onAccept={() => onAction?.('accept')} />
      <LocationButton onLocation={() => onAction?.('location')} />
      <SaveButton onSave={() => onAction?.('save')} />
    </div>
  );
};
```

### 2. HashtagSystem ì»´í¬ë„ŒíŠ¸

```typescript
// components/shared/HashtagSystem.tsx
const HashtagInput: React.FC<HashtagInputProps> = ({
  value,
  onChange,
  suggestions = [],
  autoComplete = true
}) => {
  const [input, setInput] = useState('');
  const [showSuggestions, setShowSuggestions] = useState(false);

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const newInput = e.target.value;
    setInput(newInput);

    if (autoComplete && newInput.includes('#')) {
      setShowSuggestions(true);
    }
  };

  const handleTagAdd = (tag: string) => {
    const newTags = [...value, tag];
    onChange(newTags);
    setInput('');
    setShowSuggestions(false);
  };

  return (
    <div className="hashtag-input">
      <input
        value={input}
        onChange={handleInputChange}
        placeholder="íƒœê·¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”... #ì œì£¼ë§›ì§‘"
        className="tag-input"
      />

      {showSuggestions && (
        <HashtagSuggestions
          query={input}
          suggestions={suggestions}
          onSelect={handleTagAdd}
        />
      )}

      <HashtagDisplay tags={value} onRemove={handleTagRemove} />
    </div>
  );
};

const HashtagDisplay = ({ tags, onRemove }: Props) => (
  <div className="hashtag-display">
    {tags.map((tag, index) => (
      <HashtagChip
        key={index}
        tag={tag}
        category={categorizeTag(tag)}
        onRemove={() => onRemove(index)}
      />
    ))}
  </div>
);

const HashtagChip = ({ tag, category, onRemove }: Props) => (
  <span className={`hashtag-chip ${category}`}>
    {tag}
    <button className="remove-btn" onClick={onRemove}>Ã—</button>
  </span>
);
```

### 3. RealTimeIndicators ì»´í¬ë„ŒíŠ¸

```typescript
// components/shared/RealTimeIndicators.tsx
const TypingIndicator: React.FC<TypingIndicatorProps> = ({
  typingUsers,
  visible
}) => {
  if (!visible || typingUsers.length === 0) return null;

  return (
    <div className="typing-indicator">
      <UserAvatars users={typingUsers} size="small" />
      <TypingAnimation />
      <span className="typing-text">
        {formatTypingText(typingUsers)}ê°€ ë‹µë³€ì„ ì‘ì„± ì¤‘ì…ë‹ˆë‹¤...
      </span>
    </div>
  );
};

const TypingAnimation = () => (
  <div className="typing-animation">
    <span className="dot"></span>
    <span className="dot"></span>
    <span className="dot"></span>
  </div>
);

const OnlineStatus = ({ user, size = 'medium' }: Props) => (
  <div className={`online-status ${size}`}>
    <UserAvatar user={user} size={size} />
    <div className={`status-indicator ${user.isOnline ? 'online' : 'offline'}`} />
  </div>
);

const ReadStatus = ({ status }: { status: 'sent' | 'delivered' | 'read' }) => (
  <div className={`read-status ${status}`}>
    {status === 'sent' && <CheckIcon />}
    {status === 'delivered' && <DoubleCheckIcon />}
    {status === 'read' && <DoubleCheckIcon className="read" />}
  </div>
);
```

---

## ğŸ—„ï¸ ìƒíƒœ ê´€ë¦¬ ì„¤ê³„

### Context ê¸°ë°˜ ìƒíƒœ ê´€ë¦¬

```typescript
// context/TripStageContext.tsx
interface TripStageContextType {
  currentStage: 'pre-trip' | 'during-trip' | 'post-trip';
  userLocation: Location | null;
  travelDates: DateRange | null;
  isUrgentMode: boolean;
  setStage: (stage: TripStage) => void;
  enableUrgentMode: () => void;
  disableUrgentMode: () => void;
}

export const TripStageProvider: React.FC<{ children: ReactNode }> = ({
  children
}) => {
  const [currentStage, setCurrentStage] = useState<TripStage>('pre-trip');
  const [isUrgentMode, setIsUrgentMode] = useState(false);
  const { location } = useLocation();

  // ìë™ ìŠ¤í…Œì´ì§€ ê°ì§€
  useEffect(() => {
    if (location && isInJeju(location)) {
      setCurrentStage('during-trip');
    }
  }, [location]);

  const value = {
    currentStage,
    userLocation: location,
    isUrgentMode,
    setStage: setCurrentStage,
    enableUrgentMode: () => setIsUrgentMode(true),
    disableUrgentMode: () => setIsUrgentMode(false)
  };

  return (
    <TripStageContext.Provider value={value}>
      {children}
    </TripStageContext.Provider>
  );
};

// context/RealTimeContext.tsx
export const RealTimeProvider: React.FC<{ children: ReactNode }> = ({
  children
}) => {
  const { socket } = useSocket();
  const [typingUsers, setTypingUsers] = useState<TypingUser[]>([]);
  const [onlineUsers, setOnlineUsers] = useState<User[]>([]);

  useEffect(() => {
    socket?.on('user_typing', handleUserTyping);
    socket?.on('user_online', handleUserOnline);
    socket?.on('user_offline', handleUserOffline);

    return () => {
      socket?.off('user_typing');
      socket?.off('user_online');
      socket?.off('user_offline');
    };
  }, [socket]);

  const value = {
    typingUsers,
    onlineUsers,
    startTyping: (questionId: string) => {
      socket?.emit('typing_start', { questionId });
    },
    stopTyping: (questionId: string) => {
      socket?.emit('typing_stop', { questionId });
    }
  };

  return (
    <RealTimeContext.Provider value={value}>
      {children}
    </RealTimeContext.Provider>
  );
};
```

### ì»¤ìŠ¤í…€ í›…

```typescript
// hooks/useTripStage.ts
export const useTripStage = () => {
  const context = useContext(TripStageContext);
  if (!context) {
    throw new Error('useTripStage must be used within TripStageProvider');
  }
  return context;
};

// hooks/useLocationBasedQuestions.ts
export const useLocationBasedQuestions = (
  location: Location | null,
  radius: number = 1000
) => {
  const [questions, setQuestions] = useState<Question[]>([]);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (!location) return;

    const fetchNearbyQuestions = async () => {
      setLoading(true);
      try {
        const response = await api.get('/questions/nearby', {
          params: {
            lat: location.latitude,
            lng: location.longitude,
            radius
          }
        });
        setQuestions(response.data);
      } catch (error) {
        console.error('Failed to fetch nearby questions:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchNearbyQuestions();
  }, [location, radius]);

  return { questions, loading };
};

// hooks/useVoiceInput.ts
export const useVoiceInput = () => {
  const [isRecording, setIsRecording] = useState(false);
  const [transcript, setTranscript] = useState('');
  const recognitionRef = useRef<SpeechRecognition | null>(null);

  const startRecording = () => {
    if (!('webkitSpeechRecognition' in window)) {
      alert('ìŒì„± ì¸ì‹ì´ ì§€ì›ë˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.');
      return;
    }

    const recognition = new window.webkitSpeechRecognition();
    recognition.continuous = true;
    recognition.interimResults = true;
    recognition.lang = 'ko-KR';

    recognition.onstart = () => setIsRecording(true);
    recognition.onend = () => setIsRecording(false);
    recognition.onresult = (event) => {
      const lastResult = event.results[event.results.length - 1];
      if (lastResult.isFinal) {
        setTranscript(lastResult[0].transcript);
      }
    };

    recognitionRef.current = recognition;
    recognition.start();
  };

  const stopRecording = () => {
    recognitionRef.current?.stop();
  };

  return {
    isRecording,
    transcript,
    startRecording,
    stopRecording,
    clearTranscript: () => setTranscript('')
  };
};
```

---

## âš¡ ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ì‚¬ì´í´ ë° ìµœì í™”

### ì§€ì—° ë¡œë”© (Lazy Loading)

```typescript
// ë‹¨ê³„ë³„ ì»´í¬ë„ŒíŠ¸ ì§€ì—° ë¡œë”©
const PreTripComponents = lazy(() => import('../components/pre-trip'));
const DuringTripComponents = lazy(() => import('../components/during-trip'));
const PostTripComponents = lazy(() => import('../components/post-trip'));

const App: React.FC = () => {
  const { currentStage } = useTripStage();

  return (
    <div className="app">
      <Suspense fallback={<StageLoadingSpinner />}>
        {currentStage === 'pre-trip' && <PreTripComponents />}
        {currentStage === 'during-trip' && <DuringTripComponents />}
        {currentStage === 'post-trip' && <PostTripComponents />}
      </Suspense>
    </div>
  );
};
```

### ë©”ëª¨ì´ì œì´ì…˜ ìµœì í™”

```typescript
// ë¦¬ë Œë”ë§ ìµœì í™”
const MessageBubble = memo<MessageBubbleProps>(({
  type,
  user,
  content,
  timestamp,
  images,
  tags
}) => {
  // ë©”ì‹œì§€ ë‚´ìš©ì´ ë³€ê²½ë˜ì§€ ì•Šìœ¼ë©´ ë¦¬ë Œë”ë§ ë°©ì§€
  return (
    <div className={`message-bubble ${type}`}>
      {/* ì»´í¬ë„ŒíŠ¸ ë‚´ìš© */}
    </div>
  );
}, (prevProps, nextProps) => {
  return (
    prevProps.content === nextProps.content &&
    prevProps.timestamp === nextProps.timestamp &&
    prevProps.images?.length === nextProps.images?.length
  );
});

// ë¹„ìš©ì´ í° ê³„ì‚° ë©”ëª¨ì´ì œì´ì…˜
const QuestionFeed = () => {
  const { questions } = useQuestions();

  const sortedQuestions = useMemo(() => {
    return questions
      .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())
      .filter(q => q.status !== 'hidden');
  }, [questions]);

  return (
    <div className="question-feed">
      {sortedQuestions.map(question => (
        <QuestionCard key={question.id} question={question} />
      ))}
    </div>
  );
};
```

### ê°€ìƒí™” (Virtualization)

```typescript
// ê¸´ ëª©ë¡ ê°€ìƒí™”ë¡œ ì„±ëŠ¥ ìµœì í™”
import { FixedSizeList as List } from 'react-window';

const VirtualizedQuestionList = ({ questions }: Props) => {
  const Row = ({ index, style }: { index: number; style: CSSProperties }) => (
    <div style={style}>
      <QuestionCard question={questions[index]} />
    </div>
  );

  return (
    <List
      height={600}
      itemCount={questions.length}
      itemSize={200}
      width="100%"
    >
      {Row}
    </List>
  );
};
```

---

ì´ ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì„¤ê³„ì„œëŠ” ì‹¤ì œ ê°œë°œ ì‹œ ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ê³¼ êµ¬í˜„ ë°©í–¥ì„ ëª…í™•í•˜ê²Œ ì œì‹œí•©ë‹ˆë‹¤. ë‹¤ìŒ ë‹¨ê³„ë¡œ ë©”ì‹œì§€ ìŠ¤íƒ€ì¼ ì¸í„°í˜ì´ìŠ¤ì˜ ìƒì„¸ ìƒí˜¸ì‘ìš© ëª…ì„¸ì„œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.