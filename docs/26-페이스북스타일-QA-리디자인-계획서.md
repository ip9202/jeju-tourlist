# 페이스북 스타일 Q&A 리디자인 계획서

## 📋 프로젝트 개요

**프로젝트명**: 동네물어봐 Q&A 페이지 페이스북 스타일 리디자인  
**목표**: 질문 상세 페이지의 답변/댓글을 페이스북 스타일의 계층적 댓글 구조로 변경  
**기대 효과**: 더 사회적이고 상호작용적인 사용자 경험 제공

---

## 🎯 현재 상황 vs 목표

### 현재 상황 (Before)

```
✓ 깔끔한 카드 기반 디자인
✓ 체계적인 구조
✗ 페이스북 같은 사회적 느낌 부족
✗ 댓글 간 관계성 시각화 부족
✗ 인라인 상호작용 제한적
```

### 목표 상태 (After)

```
✓ 페이스북 같은 친숙한 댓글 UI
✓ 계층적 구조 (질문 → 답변 → 대댓글)
✓ 시각적 피드백 (리액션, 배지, 통계)
✓ 실시간 상호작용 강화
✓ 모바일 최적화
```

---

## 🏗️ 아키텍처

### 1. 컴포넌트 구조

```
QuestionDetailPage
├── Header
├── SubPageHeader
├── QuestionCard
│   ├── QuestionHeader (작성자, 시간, 카테고리)
│   ├── QuestionContent (제목, 본문, 첨부 이미지)
│   ├── QuestionStats (👍 5, 💬 2, 조회수)
│   └── QuestionActions (좋아요, 댓글, 공유, 저장)
│
└── AnswersCard
    ├── AnswerInput (댓글 입력창)
    │
    ├── AnswerItem (반복)
    │   ├── AuthorAvatar
    │   ├── AnswerBubble
    │   │   ├── Header (닉네임, 배지, 시간)
    │   │   ├── Content (답변 본문)
    │   │   ├── Reactions (👍 0, 👎 1)
    │   │   └── Actions (좋아요, 답글, ⋯)
    │   │
    │   └── ReplyItems (대댓글, 반복)
    │       └── (AnswerItem 동일 구조)
    │
    └── LoadMore (더 보기)
```

### 2. 주요 컴포넌트

#### **QuestionCard** - 질문 카드

- 헤더: 프로필, 닉네임, 시간, 카테고리 배지
- 본문: 제목 강조, 내용, 이미지
- 통계: 좋아요, 댓글 수, 조회 시간
- 액션: 좋아요, 댓글, 공유, 저장 (4개 버튼)

#### **AnswerInput** - 댓글 입력

- 프로필 아바타 (좌측)
- 라운드 입력창
- 이모지 버튼 (우측)

#### **AnswerItem** - 답변/댓글

- 아바타 (좌측, 32px)
- 버블 (흰색 배경)
  - 닉네임 + 배지 (채택/전문가/신입)
  - 시간 (우상단)
  - 본문
  - 리액션 (👍 0, 👎 1)
  - 액션 버튼 (좋아요, 답글, ⋯)
- 대댓글은 좌측 margin으로 들여쓰기

---

## 🎨 디자인 시스템

### 색상 팔레트

```
주요 색상:
- 배경: #f0f2f5 (라이트 그레이)
- 흰색: #FFFFFF
- 텍스트 주: #050505 (거의 검은색)
- 텍스트 보조: #65676b (중간 그레이)
- 강조: #0a66c2 (페이스북 블루)
- 에러: #f02849 (빨강)
- 성공: #155724 (초록)

배지 색상:
- 채택됨: #d4edda / #155724 (초록)
- 전문가: #d1ecf1 / #0c5460 (파랑)
- 신입: #fff3cd / #856404 (노랑)
```

### 타이포그래피

```
제목 (질문): 14px, 600 weight
닉네임: 13px, 500 weight
본문: 13px, 400 weight
작은 텍스트: 12px, 400 weight
```

### 간격 (Spacing)

```
- 섹션 간: 16px
- 아이템 간: 12px
- 내부 패딩: 12px-16px
- 아바타 + 콘텐츠 gap: 12px
```

### 모서리 반경 (Border Radius)

```
- 카드: 8px
- 버블: 18px (댓글)
- 입력창: 20px
- 배지: 8-12px
- 버튼: 50% (원형)
```

---

## 📐 레이아웃

### 데스크톱 (≥1024px)

```
┌─────────────────────────────────────┐
│ 질문 카드                            │
│ ┌─────────────────────────────────┐ │
│ │ 헤더 (프로필, 시간, 메뉴)       │ │
│ ├─────────────────────────────────┤ │
│ │ 제목 (강조됨)                    │ │
│ │ 본문                              │ │
│ │ [이미지]                          │ │
│ ├─────────────────────────────────┤ │
│ │ 통계 (👍 5 | 💬 2 | 4시간 전)   │ │
│ ├─────────────────────────────────┤ │
│ │ [좋아요] [댓글] [공유] [저장]    │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘

┌─────────────────────────────────────┐
│ 답변 카드                            │
│ ┌─────────────────────────────────┐ │
│ │ 입력창: [프로필] [댓글 입력...] 😊│ │
│ ├─────────────────────────────────┤ │
│ │ [프로필] ┌─────────────────────┐ │ │
│ │          │ 레이디가가가 [채택] │ │ │
│ │          │ 10-20 10:31         │ │ │
│ │          │ 댓글 본문...        │ │ │
│ │          │ 👍 0 | 👎 1        │ │ │
│ │          │ 좋아요 | 답글 | ⋯   │ │ │
│ │          └─────────────────────┘ │ │
│ │                                   │ │
│ │  [프로필]  ┌─────────────────┐   │ │
│ │           │ 장금이            │   │ │
│ │           │ 2시간 전          │   │ │
│ │           │ 대댓글 본문...   │   │ │
│ │           │ 👍 0             │   │ │
│ │           │ 좋아요 | 답글 | ⋯ │ │
│ │           └─────────────────┘   │ │
│ │                                   │ │
│ │ [💬 2개 더 보기]                  │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
```

### 태블릿 (600px-1024px)

```
데스크톱과 동일
- 질문 카드 폭: 제한없음 (max-width 유지)
- 버튼 라벨: 아이콘만 표시
```

### 모바일 (< 600px)

```
┌──────────────────┐
│ 질문 카드        │
│ (폭 100%)        │
└──────────────────┘

┌──────────────────┐
│ 답변 카드        │
│ (폭 100%)        │
│ - 입력창: 풀폭  │
│ - 메뉴 숨김     │
└──────────────────┘
```

---

## 🔧 구현 세부사항

### Phase 1: 컴포넌트 분리

**대상 파일**: `apps/web/src/app/questions/[id]/page.tsx`

기존 `EnhancedAnswerCard` 를 다음으로 분리:

1. **FacebookQuestionCard.tsx**
   - 질문 카드 컴포넌트
   - Props: `question`, `onShare`, `onBookmark`, `onLike`

2. **FacebookAnswerCard.tsx**
   - 개별 답변/댓글 컴포넌트
   - Props: `answer`, `isNested`, `onReply`, `onLike`, `onDislike`

3. **FacebookAnswerInput.tsx**
   - 댓글 입력 컴포넌트
   - Props: `placeholder`, `onSubmit`

4. **FacebookAnswerThread.tsx**
   - 답변 + 대댓글 리스트
   - Props: `answers`, `onXXX`

### Phase 2: 스타일 적용

**생성 파일**: `apps/web/src/styles/facebook-qa.css`

```css
/* 기본 색상 변수 */
--fb-bg: #f0f2f5;
--fb-white: #ffffff;
--fb-text-primary: #050505;
--fb-text-secondary: #65676b;
--fb-primary: #0a66c2;

/* 컴포넌트 스타일 */
.fb-question-card { ... }
.fb-answer-bubble { ... }
/* 등등 */
```

### Phase 3: 기능 구현

1. **대댓글 표시**
   - `isNested` prop으로 들여쓰기
   - 부모 답변 ID 추적

2. **리액션 시스템**
   - 좋아요 / 싫어요 토글
   - 카운트 업데이트
   - UI 피드백 (색상 변경)

3. **배지 시스템**
   - `isAccepted`: 채택됨 배지
   - `isExpert`: 전문가 배지
   - `isNew`: 신입 배지

4. **인라인 답글**
   - 댓글 클릭 시 답글 입력창 표시
   - 부모 ID 자동 설정

---

## 📊 마이그레이션 전략

### 1단계: 프로토타입 검증 ✅

- HTML 프로토타입 생성 완료
- 디자인 검증 완료

### 2단계: 컴포넌트 개발 (예정)

- FacebookQuestionCard 구현
- FacebookAnswerCard 구현
- FacebookAnswerThread 통합

### 3단계: API 연동 (예정)

- 기존 API 호출 구조 유지
- 데이터 변환 로직 추가

### 4단계: 테스트 (예정)

- 단위 테스트
- E2E 테스트
- 모바일 반응형 테스트

### 5단계: 배포 (예정)

- 기존 페이지 백업
- 점진적 롤아웃
- 사용자 피드백 수집

---

## 💾 파일 구조

```
apps/web/src/
├── app/questions/
│   └── [id]/page.tsx (기존 - 수정)
│
├── components/
│   └── question/
│       ├── FacebookQuestionCard.tsx (신규)
│       ├── FacebookAnswerCard.tsx (신규)
│       ├── FacebookAnswerInput.tsx (신규)
│       ├── FacebookAnswerThread.tsx (신규)
│       └── EnhancedAnswerCard.tsx (기존 - 유지)
│
└── styles/
    └── facebook-qa.css (신규)
```

---

## 🎯 구현 우선순위

| 우선순위 | 작업                      | 예상 시간 |
| -------- | ------------------------- | --------- |
| 1️⃣       | FacebookQuestionCard 구현 | 2h        |
| 2️⃣       | FacebookAnswerCard 구현   | 3h        |
| 3️⃣       | FacebookAnswerInput 구현  | 1h        |
| 4️⃣       | FacebookAnswerThread 통합 | 2h        |
| 5️⃣       | 스타일 미세 조정          | 2h        |
| 6️⃣       | 테스트 및 버그 수정       | 3h        |

**총 예상 시간**: 13시간

---

## ✨ 기대 효과

### 사용자 관점

- ✅ 더 친숙한 인터페이스
- ✅ 댓글 간 관계성 시각화
- ✅ 빠른 상호작용
- ✅ 모바일 최적화

### 비즈니스 관점

- ✅ 사용자 참여도 증가
- ✅ 평균 댓글 수 증가
- ✅ 체류 시간 증가
- ✅ SNS 같은 중독성 증가

### 기술 관점

- ✅ 컴포넌트 재사용성 향상
- ✅ 코드 가독성 개선
- ✅ 유지보수성 향상

---

## 📝 참고 자료

- 프로토타입: `docs/facebook-style-qa-prototype.html`
- 현재 페이지: `http://localhost:3000/questions/[id]`
- Figma (예정)

---

**작성일**: 2025-10-21  
**상태**: 계획 단계  
**다음 단계**: 컴포넌트 구현 시작
